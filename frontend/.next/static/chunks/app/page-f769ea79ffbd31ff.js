(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[974],{9693:(e,n,i)=>{Promise.resolve().then(i.bind(i,1431))},1431:(e,n,i)=>{"use strict";i.r(n),i.d(n,{default:()=>T});var t=i(5155),r=i(2115),o=i(9949),s=i(6500),d=i(9829),a=i(3885),l=i(1084);let c=i(2651).A.create({baseURL:"https://mandobot.pythonanywhere.com/api"}),h=e=>{var n;let i=null===(n=e.response)||void 0===n?void 0:n.status;return i&&401!==i&&console.error(e),Promise.reject(e)};c.interceptors.response.use(void 0,e=>h(e));let x={segment:async function(e){return(await c.post("/segment?data=".concat(e))).data}};var m=i(2533),p=i(3420),u=i(3083);let j=function(e){return(0,t.jsxs)(p.T,{border:"solid 1px #468DA4",padding:"0.5rem",paddingTop:"0",backgroundColor:"#85E2FF",children:[(0,t.jsx)(u.E,{fontSize:"3xl",fontWeight:"bold",children:e.hanzi}),e.pinyin?(0,t.jsx)(u.E,{fontSize:"l",children:e.pinyin.toLowerCase()}):null]})};var f=i(5442),g=i(674);let w=function(e){return(0,t.jsxs)(p.T,{children:[(0,t.jsx)(f.D,{children:e.word}),e.definitions.map((e,n)=>(0,t.jsx)(u.E,{textAlign:"center",children:e},n)),1!==e.word.split("").length?(0,t.jsx)(p.T,{align:"start",children:e.word.split("").map((n,i)=>(0,t.jsxs)(g.z,{children:[(0,t.jsx)(j,{hanzi:n,pinyin:e.character_definitions[n].pinyin}),(0,t.jsx)(u.E,{children:e.character_definitions[n].english})]},i))}):void 0]})};var b=i(3166),v=i(6987),y=i(6677),E=i(2311),C=i(5477),S=i(7504),k=i(3862),z=i(9399);let _=function(e){let n=e.word.word===e.pronunciation[0],{isOpen:i,onOpen:r,onClose:o}=(0,b.j)();return(0,t.jsx)("div",{children:n?(0,t.jsx)(m.s,{align:"center",justify:"center",h:"70%",m:2,children:(0,t.jsx)(u.E,{fontSize:"lg",children:e.word.word})}):(0,t.jsxs)(v.Z,{variant:"unstyled",backgroundColor:"#B8EEFF",margin:"0.1rem",marginBottom:"0.5rem",padding:"0.2rem",border:"1px solid #468DA4",borderRadius:"4",boxShadow:"1px 1px 1px rgba(0, 0, 0, 0.25)",onClick:r,children:[n?null:(0,t.jsxs)(y.aF,{isOpen:i,onClose:o,isCentered:!0,children:[(0,t.jsx)(E.m,{}),(0,t.jsx)(C.$,{maxWidth:"90vw",maxHeight:"90vh",width:"auto",height:"auto",onClick:o,children:(0,t.jsx)(S.c,{display:"flex",p:"3rem",overflow:"scroll",children:(0,t.jsx)(w,{word:e.word.word,definitions:e.definitions,character_definitions:e.dictionary})})})]}),(0,t.jsx)(k.b,{children:(0,t.jsx)(a.o,{children:(0,t.jsx)(g.z,{spacing:"0.1rem",children:e.word.word.split("").map((n,i)=>(0,t.jsx)(j,{hanzi:n,pinyin:e.pronunciation[i]},i))})})}),(0,t.jsx)(a.o,{children:(0,t.jsx)(z.w,{children:(0,t.jsx)(u.E,{noOfLines:2,maxWidth:"10rem",minWidth:"5rem",fontSize:"sm",height:"2.6rem",marginTop:"0.5rem",marginBottom:"0.5rem",textAlign:"center",children:e.definitions.join("; ")})})})]})})},W=function(e){return(0,t.jsx)(m.s,{align:"stretch",w:"100%",h:"100%",px:["0","5%"],flexWrap:"wrap",mb:["45vh","20vh"],overflowX:"hidden",children:e.sentence.map((e,n)=>(0,t.jsx)(_,{word:e,pronunciation:e.pinyin,definitions:e.definitions,dictionary:e.dictionary},n))})},A=function(e){let[n,i]=(0,r.useState)(!1);return(0,t.jsxs)(o.a,{className:"translation",p:4,borderWidth:1,borderBottomWidth:0,borderTopRadius:"lg",borderColor:"black",position:"fixed",bottom:0,left:["0%","10%"],right:["0%","10%"],width:["100%","80%"],height:n?"1vh":["45vh","20vh"],overflowY:n?"hidden":"scroll",shadow:"md",bg:"white",zIndex:1,children:[(0,t.jsx)(o.a,{onClick:()=>i(!n),width:"40%",minW:"10rem",height:"0.3rem",bg:"darkgrey",borderRadius:"md",cursor:"pointer",position:"fixed",left:"50%",transform:"translateX(-50%)"}),(0,t.jsx)(a.o,{children:(0,t.jsx)(u.E,{mt:3,textAlign:"justify",px:5,children:e.text})})]})};function T(){let[e,n]=(0,r.useState)(!1),[i,c]=(0,r.useState)(""),[h,m]=(0,r.useState)({translation:"",dictionary:{},sentence:[]}),p=async e=>{e.preventDefault(),n(!0),await x.segment(i).then(e=>{m(e)}).finally(()=>{n(!1)})};return(0,t.jsxs)(o.a,{h:"100%",children:[(0,t.jsxs)("form",{onSubmit:p,children:[(0,t.jsx)(s.p,{type:"text",placeholder:"Enter Mandarin text",value:i,onChange:e=>{c(e.target.value)},mt:10}),(0,t.jsx)(d.$,{type:"submit",colorScheme:"teal",m:2,children:"Submit"})]}),e?(0,t.jsx)(a.o,{children:(0,t.jsx)(l.P,{isIndeterminate:!0,color:"green.300"})}):(0,t.jsxs)(o.a,{h:"100%",children:[(0,t.jsx)(W,{sentence:h.sentence,translation:h.translation,dictionary:h.dictionary}),0!==h.sentence.length?(0,t.jsx)(A,{text:h.translation}):null]})]})}}},e=>{var n=n=>e(e.s=n);e.O(0,[993,320,441,517,358],()=>n(9693)),_N_E=e.O()}]);