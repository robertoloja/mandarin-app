(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[974],{9693:(e,n,t)=>{Promise.resolve().then(t.bind(t,1431))},1431:(e,n,t)=>{"use strict";t.r(n),t.d(n,{default:()=>T});var i=t(5155),r=t(2115),o=t(9949),s=t(6500),a=t(3885),l=t(4605),d=t(9829);let c=t(2651).A.create({baseURL:"https://mandobot.pythonanywhere.com/api"}),h=e=>{var n;let t=null===(n=e.response)||void 0===n?void 0:n.status;return t&&401!==t&&console.error(e),Promise.reject(e)};c.interceptors.response.use(void 0,e=>h(e));let x={segment:async function(e){return(await c.post("/segment?data=".concat(e))).data}};var m=t(2533),p=t(3420),u=t(3083);let j=function(e){return(0,i.jsxs)(p.T,{border:"solid 1px #468DA4",padding:"0.5rem",paddingTop:"0",backgroundColor:"#85E2FF",children:[(0,i.jsx)(u.E,{fontSize:"3xl",fontWeight:"bold",children:e.hanzi}),e.pinyin?(0,i.jsx)(u.E,{fontSize:"l",children:e.pinyin.toLowerCase()}):null]})};var f=t(5442),g=t(674);let w=function(e){return(0,i.jsxs)(p.T,{children:[(0,i.jsx)(f.D,{children:e.word}),e.definitions.map((e,n)=>(0,i.jsx)(u.E,{textAlign:"center",children:e},n)),1!==e.word.split("").length?(0,i.jsx)(p.T,{align:"start",children:e.word.split("").map((n,t)=>(0,i.jsxs)(g.z,{children:[(0,i.jsx)(j,{hanzi:n,pinyin:e.character_definitions[n].pinyin}),(0,i.jsx)(u.E,{children:e.character_definitions[n].english})]},t))}):void 0]})};var b=t(3166),v=t(6987),y=t(6677),S=t(2311),E=t(5477),k=t(7504),z=t(3862),C=t(9399);let _=function(e){let n=e.word.word===e.pronunciation[0],{isOpen:t,onOpen:r,onClose:o}=(0,b.j)();return(0,i.jsx)("div",{children:n?(0,i.jsx)(m.s,{align:"center",justify:"center",h:"70%",m:2,children:(0,i.jsx)(u.E,{fontSize:"lg",children:e.word.word})}):(0,i.jsxs)(v.Z,{variant:"unstyled",backgroundColor:"#B8EEFF",margin:"0.1rem",marginBottom:"0.5rem",padding:"0.2rem",border:"1px solid #468DA4",borderRadius:"4",boxShadow:"1px 1px 1px rgba(0, 0, 0, 0.25)",onClick:r,children:[n?null:(0,i.jsxs)(y.aF,{isOpen:t,onClose:o,isCentered:!0,children:[(0,i.jsx)(S.m,{}),(0,i.jsx)(E.$,{maxWidth:"90vw",maxHeight:"90vh",width:"auto",height:"auto",onClick:o,children:(0,i.jsx)(k.c,{display:"flex",p:"3rem",overflow:"scroll",children:(0,i.jsx)(w,{word:e.word.word,definitions:e.definitions,character_definitions:e.dictionary})})})]}),(0,i.jsx)(z.b,{children:(0,i.jsx)(a.o,{children:(0,i.jsx)(g.z,{spacing:"0.1rem",children:e.word.word.split("").map((n,t)=>(0,i.jsx)(j,{hanzi:n,pinyin:e.pronunciation[t]},t))})})}),(0,i.jsx)(a.o,{children:(0,i.jsx)(C.w,{children:(0,i.jsx)(u.E,{noOfLines:2,maxWidth:"10rem",minWidth:"5rem",fontSize:"sm",height:"2.6rem",marginTop:"0.5rem",marginBottom:"0.5rem",textAlign:"center",children:e.definitions.join("; ")})})})]})})},W=function(e){return(0,i.jsx)(m.s,{align:"stretch",w:"100%",h:"100%",px:["0","5%"],flexWrap:"wrap",mb:["45vh","20vh"],overflowX:"hidden",children:e.sentence.map((e,n)=>(0,i.jsx)(_,{word:e,pronunciation:e.pinyin,definitions:e.definitions,dictionary:e.dictionary},n))})},A=function(e){let[n,t]=(0,r.useState)(!1);return(0,i.jsxs)(o.a,{className:"translation",p:4,borderWidth:1,borderBottomWidth:0,borderTopRadius:"lg",borderColor:"black",position:"fixed",bottom:0,left:["0%","10%"],right:["0%","10%"],width:["100%","80%"],height:n?"1vh":["45vh","20vh"],overflowY:n?"hidden":"scroll",shadow:"md",bg:"white",zIndex:1,children:[(0,i.jsx)(o.a,{onClick:()=>t(!n),width:"40%",minW:"10rem",height:"0.3rem",bg:"darkgrey",borderRadius:"md",cursor:"pointer",position:"fixed",left:"50%",transform:"translateX(-50%)"}),(0,i.jsx)(a.o,{children:(0,i.jsx)(u.E,{mt:3,textAlign:"justify",px:5,children:e.text})})]})};function T(){let e={translation:"",dictionary:{},sentence:[]},[n,t]=(0,r.useState)(!1),[c,h]=(0,r.useState)(""),[m,p]=(0,r.useState)(e),[u,j]=(0,r.useState)(0),f=e=>{p(n=>({translation:n.translation+" "+e.translation,dictionary:{},sentence:[...n.sentence,...e.sentence]}))},g=async n=>{for(let i of(n.preventDefault(),p(e),j(0),t(!0),c.split(RegExp("(?<=[。？！.?!])"))))await x.segment(i).then(e=>{f(e)}),j(e=>e+Math.floor(i.length/c.length*100));t(!1)};return(0,i.jsxs)(o.a,{h:"100%",children:[(0,i.jsxs)("form",{onSubmit:g,children:[(0,i.jsx)(s.p,{type:"text",placeholder:"Enter Mandarin text",value:c,onChange:e=>{h(e.target.value)},mt:10,mb:"0"}),n?(0,i.jsx)(a.o,{m:"0",children:0==u?(0,i.jsx)(l.k,{w:"100%",colorScheme:"blue",hasStripe:!0,isIndeterminate:!0,size:"xs"}):(0,i.jsx)(l.k,{w:"100%",colorScheme:"blue",hasStripe:!0,size:"xs",value:u})}):null,(0,i.jsx)(d.$,{type:"submit",colorScheme:"teal",m:2,children:"Submit"})]}),(0,i.jsxs)(o.a,{h:"100%",children:[(0,i.jsx)(W,{sentence:m.sentence,translation:m.translation,dictionary:m.dictionary}),0!==m.sentence.length?(0,i.jsx)(A,{text:m.translation}):null]})]})}}},e=>{var n=n=>e(e.s=n);e.O(0,[993,374,441,517,358],()=>n(9693)),_N_E=e.O()}]);